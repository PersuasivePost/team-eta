{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Ashvatth/OneDrive/Desktop/AshWorks/clones/team-eta/components/navbar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { Menu, X } from \"lucide-react\";\r\nimport { usePathname } from \"next/navigation\";\r\n\r\nconst navLinks = [\r\n  { label: \"Home\", href: \"/\" },\r\n  { label: \"Shell Eco Marathon\", href: \"/shell-eco-marathon\" },\r\n  { label: \"Our Garage\", href: \"/our-garage\" },\r\n  { label: \"Blog\", href: \"/blog\" },\r\n  { label: \"Our Partners\", href: \"/our-partners\" },\r\n  { label: \"Fuel Our Mission\", href: \"/fuel-our-mission\" },\r\n  { label: \"Pit Crew\", href: \"/pit-crew\" },\r\n  { label: \"Alumni\", href: \"/alumni\" },\r\n  { label: \"Contact\", href: \"/contact\" },\r\n];\r\n\r\ninterface UserInfo {\r\n  id: string;\r\n  email: string;\r\n  name: string;\r\n  picture?: string;\r\n}\r\n\r\nexport default function Navbar() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [user, setUser] = useState<UserInfo | null>(null);\r\n  const [userLoading, setUserLoading] = useState(true);\r\n\r\n  const pathname = usePathname();\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setMounted(true);\r\n    // Fetch current user\r\n    const fetchUser = async () => {\r\n      try {\r\n        const res = await fetch(\"/auth/me\");\r\n        const data = await res.json();\r\n        if (data?.user) {\r\n          setUser(data.user);\r\n        }\r\n      } catch (e) {\r\n        // Not logged in\r\n      } finally {\r\n        setUserLoading(false);\r\n      }\r\n    };\r\n    fetchUser();\r\n  }, []);\r\n\r\n  const isActive = (href: string) => {\r\n    if (!mounted || !pathname) return false;\r\n    return pathname === href;\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await fetch(\"/auth/logout\", { method: \"POST\" });\r\n      setUser(null);\r\n      window.location.href = \"/\";\r\n    } catch (e) {\r\n      // Fallback: clear cookie manually\r\n      document.cookie = \"session=; Max-Age=0; path=/\";\r\n      setUser(null);\r\n      window.location.href = \"/\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <nav className=\"fixed top-0 w-full z-50 bg-background/80 backdrop-blur-lg border-b border-border\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"flex justify-between items-center h-16\">\r\n          {/* Logo */}\r\n          <Link\r\n            href=\"/\"\r\n            className=\"text-2xl font-bold text-foreground hover:text-primary transition-colors\"\r\n          >\r\n            TEAM ETA\r\n          </Link>\r\n\r\n          {/* Desktop Navigation */}\r\n          <div className=\"hidden lg:flex items-center gap-1\">\r\n            {navLinks.map((link) => (\r\n              <Link\r\n                key={link.label}\r\n                href={link.href}\r\n                className={`px-3 py-2 text-sm font-medium transition-colors ${\r\n                  isActive(link.href)\r\n                    ? \"text-primary\"\r\n                    : \"text-muted-foreground hover:text-primary\"\r\n                }`}\r\n              >\r\n                {link.label}\r\n              </Link>\r\n            ))}\r\n\r\n            {/* User Info / Auth */}\r\n            {!userLoading &&\r\n              (user ? (\r\n                <>\r\n                  <Link\r\n                    href=\"#\"\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      handleLogout();\r\n                    }}\r\n                    className={`px-3 py-2 text-sm font-medium transition-colors ${\r\n                      false\r\n                        ? \"text-primary\"\r\n                        : \"text-muted-foreground hover:text-primary\"\r\n                    }`}\r\n                  >\r\n                    Logout\r\n                  </Link>\r\n                  <span\r\n                    className={`px-3 py-2 text-sm font-medium transition-colors ${\r\n                      false\r\n                        ? \"text-primary\"\r\n                        : \"text-muted-foreground hover:text-primary\"\r\n                    }`}\r\n                  >\r\n                    Welcome {user.name?.split(\" \")[0] || \"User\"}\r\n                  </span>\r\n                </>\r\n              ) : (\r\n                <Link\r\n                  href=\"/auth\"\r\n                  className={`px-3 py-2 text-sm font-medium transition-colors ${\r\n                    false\r\n                      ? \"text-primary\"\r\n                      : \"text-muted-foreground hover:text-primary\"\r\n                  }`}\r\n                >\r\n                  Login\r\n                </Link>\r\n              ))}\r\n          </div>\r\n\r\n          {/* Mobile Menu Button */}\r\n          <button\r\n            className=\"lg:hidden text-muted-foreground hover:text-primary transition-colors\"\r\n            onClick={() => setIsOpen(!isOpen)}\r\n          >\r\n            {isOpen ? <X size={24} /> : <Menu size={24} />}\r\n          </button>\r\n        </div>\r\n\r\n        {/* Mobile Navigation */}\r\n        {isOpen && (\r\n          <div className=\"lg:hidden pb-4 space-y-2\">\r\n            {navLinks.map((link) => (\r\n              <Link\r\n                key={link.label}\r\n                href={link.href}\r\n                className={`block px-3 py-2 text-sm font-medium transition-colors ${\r\n                  isActive(link.href)\r\n                    ? \"text-primary\"\r\n                    : \"text-muted-foreground hover:text-primary\"\r\n                }`}\r\n                onClick={() => setIsOpen(false)}\r\n              >\r\n                {link.label}\r\n              </Link>\r\n            ))}\r\n\r\n            {/* Mobile User Info / Auth */}\r\n            {!userLoading && (\r\n              <>\r\n                {user ? (\r\n                  <>\r\n                    <Link\r\n                      href=\"#\"\r\n                      onClick={(e) => {\r\n                        e.preventDefault();\r\n                        handleLogout();\r\n                      }}\r\n                      className={`block px-3 py-2 text-sm font-medium transition-colors ${\r\n                        false\r\n                          ? \"text-primary\"\r\n                          : \"text-muted-foreground hover:text-primary\"\r\n                      }`}\r\n                    >\r\n                      Logout\r\n                    </Link>\r\n                    <span\r\n                      className={`block px-3 py-2 text-sm font-medium transition-colors ${\r\n                        false\r\n                          ? \"text-primary\"\r\n                          : \"text-muted-foreground hover:text-primary\"\r\n                      }`}\r\n                    >\r\n                      Welcome {user.name?.split(\" \")[0] || \"User\"}\r\n                    </span>\r\n                  </>\r\n                ) : (\r\n                  <Link\r\n                    href=\"/auth\"\r\n                    className={`block px-3 py-2 text-sm font-medium transition-colors ${\r\n                      false\r\n                        ? \"text-primary\"\r\n                        : \"text-muted-foreground hover:text-primary\"\r\n                    }`}\r\n                    onClick={() => setIsOpen(false)}\r\n                  >\r\n                    Login\r\n                  </Link>\r\n                )}\r\n              </>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;;;AALA;;;;;AAOA,MAAM,WAAW;IACf;QAAE,OAAO;QAAQ,MAAM;IAAI;IAC3B;QAAE,OAAO;QAAsB,MAAM;IAAsB;IAC3D;QAAE,OAAO;QAAc,MAAM;IAAc;IAC3C;QAAE,OAAO;QAAQ,MAAM;IAAQ;IAC/B;QAAE,OAAO;QAAgB,MAAM;IAAgB;IAC/C;QAAE,OAAO;QAAoB,MAAM;IAAoB;IACvD;QAAE,OAAO;QAAY,MAAM;IAAY;IACvC;QAAE,OAAO;QAAU,MAAM;IAAU;IACnC;QAAE,OAAO;QAAW,MAAM;IAAW;CACtC;AASc,SAAS;;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,qOAAQ,EAAC;IACrC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,qOAAQ,EAAkB;IAClD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,qOAAQ,EAAC;IAE/C,MAAM,WAAW,IAAA,gNAAW;IAC5B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,qOAAQ,EAAC;IAEvC,IAAA,sOAAS;4BAAC;YACR,WAAW;YACX,qBAAqB;YACrB,MAAM;8CAAY;oBAChB,IAAI;wBACF,MAAM,MAAM,MAAM,MAAM;wBACxB,MAAM,OAAO,MAAM,IAAI,IAAI;wBAC3B,IAAI,MAAM,MAAM;4BACd,QAAQ,KAAK,IAAI;wBACnB;oBACF,EAAE,OAAO,GAAG;oBACV,gBAAgB;oBAClB,SAAU;wBACR,eAAe;oBACjB;gBACF;;YACA;QACF;2BAAG,EAAE;IAEL,MAAM,WAAW,CAAC;QAChB,IAAI,CAAC,WAAW,CAAC,UAAU,OAAO;QAClC,OAAO,aAAa;IACtB;IAEA,MAAM,eAAe;QACnB,IAAI;YACF,MAAM,MAAM,gBAAgB;gBAAE,QAAQ;YAAO;YAC7C,QAAQ;YACR,OAAO,QAAQ,CAAC,IAAI,GAAG;QACzB,EAAE,OAAO,GAAG;YACV,kCAAkC;YAClC,SAAS,MAAM,GAAG;YAClB,QAAQ;YACR,OAAO,QAAQ,CAAC,IAAI,GAAG;QACzB;IACF;IAEA,qBACE,yPAAC;QAAI,WAAU;kBACb,cAAA,yPAAC;YAAI,WAAU;;8BACb,yPAAC;oBAAI,WAAU;;sCAEb,yPAAC,sOAAI;4BACH,MAAK;4BACL,WAAU;sCACX;;;;;;sCAKD,yPAAC;4BAAI,WAAU;;gCACZ,SAAS,GAAG,CAAC,CAAC,qBACb,yPAAC,sOAAI;wCAEH,MAAM,KAAK,IAAI;wCACf,WAAW,CAAC,gDAAgD,EAC1D,SAAS,KAAK,IAAI,IACd,iBACA,4CACJ;kDAED,KAAK,KAAK;uCARN,KAAK,KAAK;;;;;gCAalB,CAAC,eACA,CAAC,qBACC;;sDACE,yPAAC,sOAAI;4CACH,MAAK;4CACL,SAAS,CAAC;gDACR,EAAE,cAAc;gDAChB;4CACF;4CACA,WAAW,CAAC,gDAAgD,EAC1D,sCACI,0BACA,4CACJ;sDACH;;;;;;sDAGD,yPAAC;4CACC,WAAW,CAAC,gDAAgD,EAC1D,sCACI,0BACA,4CACJ;;gDACH;gDACU,KAAK,IAAI,EAAE,MAAM,IAAI,CAAC,EAAE,IAAI;;;;;;;;iEAIzC,yPAAC,sOAAI;oCACH,MAAK;oCACL,WAAW,CAAC,gDAAgD,EAC1D,sCACI,0BACA,4CACJ;8CACH;;;;;wCAGF;;;;;;;sCAIL,yPAAC;4BACC,WAAU;4BACV,SAAS,IAAM,UAAU,CAAC;sCAEzB,uBAAS,yPAAC,gQAAC;gCAAC,MAAM;;;;;qDAAS,yPAAC,yQAAI;gCAAC,MAAM;;;;;;;;;;;;;;;;;gBAK3C,wBACC,yPAAC;oBAAI,WAAU;;wBACZ,SAAS,GAAG,CAAC,CAAC,qBACb,yPAAC,sOAAI;gCAEH,MAAM,KAAK,IAAI;gCACf,WAAW,CAAC,sDAAsD,EAChE,SAAS,KAAK,IAAI,IACd,iBACA,4CACJ;gCACF,SAAS,IAAM,UAAU;0CAExB,KAAK,KAAK;+BATN,KAAK,KAAK;;;;;wBAclB,CAAC,6BACA;sCACG,qBACC;;kDACE,yPAAC,sOAAI;wCACH,MAAK;wCACL,SAAS,CAAC;4CACR,EAAE,cAAc;4CAChB;wCACF;wCACA,WAAW,CAAC,sDAAsD,EAChE,sCACI,0BACA,4CACJ;kDACH;;;;;;kDAGD,yPAAC;wCACC,WAAW,CAAC,sDAAsD,EAChE,sCACI,0BACA,4CACJ;;4CACH;4CACU,KAAK,IAAI,EAAE,MAAM,IAAI,CAAC,EAAE,IAAI;;;;;;;;6DAIzC,yPAAC,sOAAI;gCACH,MAAK;gCACL,WAAW,CAAC,sDAAsD,EAChE,sCACI,0BACA,4CACJ;gCACF,SAAS,IAAM,UAAU;0CAC1B;;;;;;;;;;;;;;;;;;;;;;;;AAWnB;GA/LwB;;QAKL,gNAAW;;;KALN"}}]
}